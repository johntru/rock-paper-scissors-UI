<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Rock Paper Scissors JS Game</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">
  <link rel="stylesheet" href="style.css">

</head>

<body>
    
    <div class="btns">
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>
    </div>
    <div class='reset'>
        <button id="reset-btn" onclick="refreshPage()">Restart</button>
    </div>
    <div id='result'>
        hi
    </div>
    <div class="scores">  
        <h2>Scoreboard</h2>
        <div>
            <div class="ps">
                <h2>Player</h2>
                <div id="pscore">0</div>
            </div>
            <div class="cs">
                <h2>Computer</h2>
                <div id="cscore">0</div>
            </div>
        </div>
        </div>
    </div>
    
    <script>
    


    let playerScore = 0
    let computerScore = 0
    

    function computerPlay() {
        let playArray = ['rock','paper','scissors']
        let getRandom = playArray[Math.floor(Math.random()*playArray.length)]
        return getRandom
    }
    
    function playRound(playerSelection, computerSelection) {
            computerSelection = computerPlay()
                if (playerSelection == computerSelection) {
                    document.getElementById("result").textContent=`Draw! You both played ${playerSelection}`
                    return
                }
                else if (playerSelection == 'rock' && computerSelection == 'paper') {
                    document.getElementById("result").textContent='You Lose! Paper beats rock'
                    return ++computerScore
                }
                else if (playerSelection == 'paper' && computerSelection == 'rock') {
                    document.getElementById("result").textContent='You Win! Paper beats rock'
                    return ++playerScore
                }
                else if (playerSelection == 'scissors' && computerSelection == 'paper') {
                    document.getElementById("result").textContent='You Win! Scissors beats paper'
                    return ++playerScore
                }
                else if (playerSelection == 'rock' && computerSelection == 'scissors') {
                    document.getElementById("result").textContent='You Win! Rock beats scissors'
                    return ++playerScore
                }
                else if (playerSelection == 'paper' && computerSelection == 'scissors') {
                    document.getElementById("result").textContent='You Lose! Scissors beats paper'
                   return ++computerScore
                }
                else if (playerSelection == 'scissors' && computerSelection == 'rock') {
                    document.getElementById("result").textContent='You Lose! Rock beats scissors'
                    return ++computerScore
                }
            }
    
    function checkScore() {
            if (playerScore < 5 && computerScore < 5) {
                return
            }
            else if (playerScore > computerScore) {
                alert('You have a higher score than the computer. You Win!')
                location.reload();
            }
            else if (playerScore < computerScore) {
                alert('You have a lower score than the computer. You Lose!')
                location.reload();
            }
            else  {
                alert('You have the same score as the computer. You Draw!')
                location.reload();
            }
        }
   
        function refreshPage() {
            location.reload();
        }
                  
   
        const btns = document.querySelectorAll('button');
       btns.forEach(button => button.addEventListener('click', () => {       
           playRound(button.id, computerPlay());
           document.getElementById('pscore').textContent=playerScore;
           document.getElementById('cscore').textContent=computerScore;
           checkScore()
       }));


    </script>
</body>
</html>